---
import { themeConfig } from "../../../starread.config.js";
---

<div class="search-container relative">
  <button 
    id="search-toggle" 
    class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900"
    aria-label="搜索"
  >
    <span class="icon-[lucide--search] h-5 w-5 text-gray-700 dark:text-gray-300"></span>
  </button>
  
  <div 
    id="search-dropdown" 
    class="absolute right-0 mt-2 w-80 md:w-96 bg-white dark:bg-gray-900 shadow-lg rounded-md z-50 overflow-hidden transform origin-top-right scale-95 opacity-0 invisible transition-all duration-200"
  >
    <div class="relative">
      <div id="algolia-search-container" class="p-3">
        <!-- InstantSearch 渲染位置 -->
        <div id="searchbox"></div>
        <div id="hits" class="mt-3"></div>
        <div id="pagination" class="mt-3 flex justify-center"></div>
      </div>
      <button 
        id="search-close" 
        class="absolute right-3 top-3 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors"
        aria-label="关闭搜索"
      >
        <span class="icon-[lucide--x] h-5 w-5 text-gray-400"></span>
      </button>
    </div>
  </div>
</div>