---
import '../styles/global.css';
import Navigation from '../components/Navigation.astro';
import StatsWidget from '../components/StatsWidget.astro';
import AuthorWidget from '../components/AuthorWidget.astro';
import RecommendedArticles from '../components/RecommendedArticles.astro';
import AdWidget from '../components/AdWidget.astro';
import { themeConfig } from '../content/config';
---

<!doctype html>
<html lang="zh-CN">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="icon" type="image/svg+xml" href="{themeConfig.site.favicon}" />
		<meta name="generator" content={Astro.generator} />
		<title>{ Astro.props.title || themeConfig.site.title }</title>
	</head>
	<body class="bg-white font-sans">
		<!-- 顶部导航 -->
		<Navigation title={Astro.props.title} />

		<!-- 主要内容区域 -->
		<main class="container mx-auto px-4 py-6 flex flex-col md:flex-row gap-6">
			<!-- 左侧主内容 -->
			<div class="w-full md:w-2/3 space-y-6">
				<slot />
			</div>

			<!-- 右侧边栏 -->
			<aside class="w-full md:w-1/3 space-y-6">
			    {themeConfig.sidebar.home.statsWidget && <StatsWidget />}
				{themeConfig.sidebar.home.authorWidget && <AuthorWidget />}
				{themeConfig.sidebar.home.adWidget && <AdWidget />}
				{themeConfig.sidebar.home.recommendedArticles && <RecommendedArticles />}
			</aside>
		</main>

		<!-- 页脚 -->
		<footer class="bg-white dark:bg-dark shadow-inner mt-10 py-6">
			<div class="container mx-auto px-4 text-center text-gray-600 text-sm">
				<p>© 2025 预见 - 代码路上雾茫茫</p>
			</div>
		</footer>
	</body>
</html>
